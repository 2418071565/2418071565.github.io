# **Exercise**

## [1.上帝造题的七分钟](https://www.luogu.com.cn/problem/P4514)
## 输入格式

输入数据的第一行为 $X\ \ n\ \ m$，代表矩阵大小为 $n\times m$。  
从输入数据的第二行开始到文件尾的每一行会出现以下两种操作：  
-   $L\ \ a\ \ b\ \ c\ \ d\ \ delta$ —— 代表将 $(a,b),(c,d)$ 为顶点的矩形区域内的所有数字加上 $delta$。  
-   $k\ a\ \ b\ \ c\ \ d$    —— 代表求 $(a,b),(c,d)$ 为顶点的矩形区域内所有数字的和。  

请注意，$k$ 为小写。

## 输出格式

针对每个 $k$ 操作，在单独的一行输出答案。

## 提示

$1 \le n \le 2048$，$1 \le m \le 2048$，$-500 \le delta \le 500$，操作不超过 $2\times 10^5$ 个，保证运算过程中及最终结果均不超过 $32$ 位带符号整数类型的表示范围。<br>

[AC代码](https://www.luogu.com.cn/record/123313435)

--------------------

## [2.逆序对](https://www.luogu.com.cn/problem/P1908)

## 题目描述

对于给定的一段正整数序列，逆序对就是序列中$a_i>a_j$且$i<j$的有序对。

## 输入格式

第一行，一个数 $n$，表示序列中有 $n$个数。

第二行 $n$ 个数，表示给定的序列。序列中每个数字不超过 $10^9$。

## 输出格式

输出序列中逆序对的数目。

$n \leq 5 \times 10^5$

### **偏序问题**

关于偏序问题，以一维、二维、三维偏序问题为例，介绍如下：

*   一维偏序（逆序对）。给定数列$a$，求满足$i<j$且$a_i>a_j$，的二元组$(i,j)$的个数
*   二维偏序。给定$n$个点的坐标，求满足$x_i<x_j、y_i<y_j$的二元组$(i,j)$的个数
*   三维偏序。给定$n$个点的坐标，求满足$x_i<x_j、y_i<y_j、z_i<z_j$的二元组$(i,j)$的个数

利用离散化+树状数组求逆序对是一种简单且效率极高的方法。具体思路读者可以思考一下。<br>

[AC代码](https://www.luogu.com.cn/paste/itq65wlc)

求逆序对还有一种解法是用归并排序，有兴趣的可以看洛谷的题解。
处理多维偏序问题的一般解法是$CDQ$分治，这里就不展开说明了

--------------------------------------

## [3.I Hate It](https://acm.hdu.edu.cn/showproblem.php?pid=1754)

## 输入格式
本题目包含多组测试，请处理到文件结束。<br>
在每个测试的第一行，有两个正整数$N$和$M (0<N<=200000,0<M<5000)$，分别代表学生的数目和操作的数目。<br>
学生$ID$编号分别从$1$编到$N$。<br>
第二行包含$N$个整数，代表这$N$个学生的初始成绩，其中第$i$个数代表$ID$为$i$的学生的成绩。<br>
接下来有$M$行。每一行有一个字符 $C$ (只取$'Q'$或$'U'$) ，和两个正整数$A，B$。<br>

当$C$为$'Q'$的时候，表示这是一条询问操作，它询问$ID$从$A$到$B$(包括$A,B$)的学生当中，成绩最高的是多少。<br>
当$C$为$'U'$的时候，表示这是一条更新操作，要求把$ID$为$A$的学生的成绩更改为$B$。<br>

[AC代码](https://www.luogu.com.cn/paste/y5l29q5r)

------------------------------

### **离线操作**

离线处理，即先读取所有查询，然后统一处理，计算结束后一起输出。

## [4.No Pain No Game](https://acm.hdu.edu.cn/showproblem.php?pid=4630)






